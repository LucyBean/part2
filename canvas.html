<html>
<head>
<script src="drawing.js" type="text/javascript"></script>

<!-- fabric.js-->
<script src="./fabric/dist/fabric.js" type="text/javascript"></script>

<style>
table, tr, td {
	vertical-align:top;
}

.diva {
	width:1000px;
	margin-top: 10px;
	margin-bottom: 10px;
}
</style>

</head>

<body>
<div>
<canvas id="c" style="border-style:solid; border-width:1px;"></canvas>
</div>

<textarea id="text" style="width:300px">(((])))</textarea><br>
<button type="button" onclick="drawLine()">Display brackets</button>

<div id="canvasDiv">
<button type="button" onclick="addSquare()">Draw a box</button> <br>
</div>


<script>
var f = new fabric.Canvas('c');
var rect = new fabric.Rect({left:20, top:20, fill:'red', width:100, height:100});
f.add(rect);

var canvasDiv = document.getElementById("canvasDiv");
var canvasIndex = 0;
var canvases = [];

drawExample1 = function () {
	var canvas = f;
	canvas.clear();
	
	var tree = {val:"a", children:[
		{val:"b", children:[
			{val:"d", children:[
				{val:"f"},
				{val:"g"},
				{val:"h"}
			]}
		]},
		{val:"c"}
	]};

	drawTreeFabric(canvas, tree, true);
}

drawExample2 = function () {
	var line = "(])";
	var canvas = f;
	
	drawBrackets(canvas,line);
}

function runit() {
	var canvasName = "canvas" + canvasIndex;
	canvasDiv.innerHTML += "<canvas id = \"" + canvasName + "\" width=\"800\" height=\"800\" style=\"border-style: solid; border-width:1px;\"></canvas><br>"
	var canvas = document.getElementById(canvasName);
	canvases.push(canvas);
	drawExample1(canvas);
	
	canvasIndex++;
}

function addSquare() {
	f.clear();
	var r = new fabric.Rect({left:60, top:40, fill:'#88ccaa', width:90, height:40});
	f.add(r);
}

function drawLine() {
   var box = document.getElementById("text");
   var line = box.value;
   drawBrackets(f, line);
}
</script>

</body>
</html>